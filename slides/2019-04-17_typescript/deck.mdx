import { Head, Image } from 'mdx-deck'
import { Container, Row, Col } from 'react-grid-system'
import Top from '../../components/Top.js'
import ExLink from '../../components/ExLink.js'
import SandBox from './components/SandBox'
import packageJson from './package.json'

export { default as theme } from '../../theme'

<Top
  title="書いて覚える Utility Types"
  eventName="WeJS #31"
  urlPath={packageJson.urlPath}
  hashtag="WeJS"
/>

---

# 自己紹介

---

<img
  src="https://i.gyazo.com/87d23d84bc93c83bb165c9d2f239f703.png"
  width="275"
/>

- CureApp
- アプリで医療機器を作ってる
- TS, react, RN, Node.js, MongoDB

---

## 今日話すこと

---

- Partial
- Readonly
- Record
- Pick
- Exclude
- Extract
- NonNullable
- ReturnType
- InstanceType
- Required
- ThisType

---

## はじめます

---

<SandBox
  initial={`// Partial<T>
type Customer = { id: string, name: string, age: number }
\n// エラーになる
const c1: Customer = { id: '123', name: '太郎' }
\n// エラーにならない
const c2: Partial<Customer> = { id: '123', name: '太郎' }
`}
/>

---

<SandBox
  initial={`// Readonly<T>
type Customer = { id: string, name: string, age: number }
\n// エラーにならない
const c1: Customer = { id: '123', name: '太郎', age: 28 }
c1.age = 29
\n// エラーになる
const c2: Readonly<Customer> = { id: '123', name: '太郎', age: 28 }
c2.age = 29
`}
/>

---

<SandBox
  initial={`// Record<K,T>
type Color = 'red' | 'green' | 'blue'
\n// こうだったのが
type ColorCodes1 = { [key in Color]: string }
\n// こう書ける
type ColorCodes2 = Record<Color, string>
\nconst colorCodes: ColorCodes2 = {
  red: '#ff0000',
  green: '#00ff00',
  blue: '#0000ff',
  yellow: '#ffff00'
}
`}
/>

---

<SandBox
  initial={`// Pick<T,K>
type Customer = { id: string, name: string, age: number }
\n// エラーになる
const c1: Customer = { id: '123', name: '太郎' }
\n// エラーにならない
type Customer2 = Pick<Customer, 'id' | 'name'>
const c2: Customer2 = { id: '123', name: '太郎' }
`}
/>

---

<SandBox
  initial={`// Exclude<T,U>
type Color = 'red' | 'green' | 'blue' | 'yellow' | 'purple'
\n// 3原色以外
type ColorWithoutRGB = Exclude<Color, 'red' | 'green' | 'blue'>
\n// エラーになる
const color1: ColorWithoutRGB = 'red'
\n// エラーにならない
const color2: ColorWithoutRGB = 'yellow'
`}
/>

---

<SandBox
  initial={`// Extract<T,U>
\n// 光の三原色
type ThreePrimaryLightColor = 'red' | 'green' | 'blue'
// 色の三原色
type ThreePrimaryColor = 'red' | 'blue' | 'yellow'
\n// 共通項
type CommonColor = Extract<ThreePrimaryLightColor, ThreePrimaryColor>
\n// エラーにならない
const color1: CommonColor = 'red'
\n// エラーになる
const color2: CommonColor = 'yellow'
`}
/>

---

<SandBox
  initial={`// NonNullable<T>
type Name = NonNullable<string | null | undefined>
\n// エラーになる
const name1: Name = null
\n// エラーにならない
const name2: Name = '太郎'
`}
/>

---

<SandBox
  initial={`// ReturnType<T>
type Customer = { id: string, name: string, age: number }
\n// エラーになる
const c1: Customer = { id: '123', name: '太郎' }
\n// エラーにならない
const c2: Partial<Customer> = { id: '123', name: '太郎' }
`}
/>

---

<SandBox
  initial={`// InstanceType<T>
type Customer = { id: string, name: string, age: number }
\n// エラーになる
const c1: Customer = { id: '123', name: '太郎' }
\n// エラーにならない
const c2: Partial<Customer> = { id: '123', name: '太郎' }
`}
/>

---

<SandBox
  initial={`// Required<T>
type Customer = { id: string, name: string, age: number }
\n// エラーになる
const c1: Customer = { id: '123', name: '太郎' }
\n// エラーにならない
const c2: Partial<Customer> = { id: '123', name: '太郎' }
`}
/>

---

<SandBox
  initial={`// ThisType<T>
type Customer = { id: string, name: string, age: number }
\n// エラーになる
const c1: Customer = { id: '123', name: '太郎' }
\n// エラーにならない
const c2: Partial<Customer> = { id: '123', name: '太郎' }
`}
/>

---

## おわり。

---

ご清聴ありがとうございました！！
